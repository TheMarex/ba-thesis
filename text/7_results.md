# Results

To test the performance of the stabilizer against simple pattern playback,
both walking straight and walking in circle where tested.
To simulate further disturbances, the simulation shoots a football at the robot.
In the unstabilized case, only the joint trajectory that is generated by the pattern generator is interpolated
and replayed. In the stabilized case the alternative stabilizer described in section
\ref{section:alternative-approach} is used.

## Undisturbed walking

### Walking in a straight line

The first scenario is walking in a straight line for 10 steps.
Figure \ref{img:player-undisturbed-straight-thumbs} shows the simulation of walking straight for 10 steps using no stabilization.

\begin{figure}[H]
\vspace*{-1em}
\includegraphics[width=\textwidth]{images/undisturbed_straight_thumbs.png}
\caption{Frames of undisturbed straight walking}
\label{img:player-undisturbed-straight-thumbs}
\end{figure}

\begin{figure}[H]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/undisturbed_straight_x.png}
\caption{CoM and ZMP as specified by the pattern (top) and actual realized values (middle and bottom).
All coordinates in the global reference frame.}
\label{img:undisturbed-straight-x}
\end{figure}

Figure \ref{img:undisturbed-straight-x} shows the desired and realized CoM and ZMP trajectories
in both cases. As you can see the ZMP deviates significantly from the desired trajectory
and oscillates between both edges of the support polygon. We believe this is caused by the problems
outlined in section \ref{section:rigid-body-simulation}. Consider figure \ref{img:noisy-com-acc} which shows
the desired CoM acceleration in comparison to the realized acceleration.
However the foot remains in full ground contact and friction forces are applied accurately.
Thus dynamically stable walking is realized for both unstabilized and stabilized walking.
We hope that a more stable Featherstone constraint solver will produce more accurate contact forces and
thus ZMP values.

\begin{figure*}[hbt]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/noisy_com_acc.png}
\caption{Acceleration of the CoM in $x$-direction.}
\label{img:noisy-com-acc}
\end{figure*}

### Walking in a circle

\begin{figure*}[hbt]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/undisturbed_circle_thumbs.png}
\caption{\name{Armar4} walking in a half circle in 12 steps.}
\label{img:player-undisturbed-circle-thumbs}
\end{figure*}

Figure \ref{img:player-undisturbed-circle-thumbs} shows the simulation of unstabilized walking in a circle.
The robot walks in 12 steps in an arc of 180° and 0.5 m radius.
As you can see the desired 180° turn is not realized completely. Due to the
chest rotation following the tangent of the circle, a torque around the yaw-axis is exerted on the foot.
Recall that during pattern generation we assumed that this torque is zero. Since we do not correct this
disturbance the trajectory deviates significantly.
See figure \ref{img:undisturbed-circle} for the realized ZMP distribution and CoM trajectory for
both unstabilized and stabilized walking. The unstabilized trajectory will get unstable towards
the end of the trajectory. However the stabilized trajectory remains stable.

\begin{figure}[hbt]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/undisturbed_circle.png}
\caption{Walking in a cricle. ZMP (left) and CoM (right) as specified by the pattern and the actually realized values.
Each for the unstabilized and stabilized case.}
\label{img:undisturbed-circle}
\end{figure}

## Disturbed walking

The scenario used to test the performance of the stabilizer under disturbance,
was applying a short push to the chest.
The results are compared with the performance of the unstabilized trajectory.

\begin{figure*}[hbt]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/disturbed_straight_thumbs.png}
\caption{\name{Armar4} getting hit by a ball at chest height.}
\label{img:player-undisturbed-circle-thumbs}
\end{figure*}

To simulate a push, a ball with a radius of 11cm and weight of 450g (FIFA football) is shoot from
1 meter distance at the chest.
See figure \ref{img:disturbed-straight-x} for the realized CoM and ZMP trajectories. The point of impact is denoted as red lines.
The unstabilized trajectory becomes unstable and leads to a fall at $t = 9.5s$. The stabilized
trajectory is noticeable disturbed, as the yaw momentum is not compensated, but remains stable.


\begin{figure*}[hbt]
\vspace*{-1em}
\includegraphics[width=\textwidth,resolution=300]{images/disturbed_straight_x.png}
\caption{CoM and ZMP as specified by the pattern (top) and actual realized values (middle and bottom).
All coordinates in the global reference frame. Red lines denote the point of impact.}
\label{img:disturbed-straight-x}
\end{figure*}

## Push recovery

The performance of the push recovery was evaluated with a simple best-case scenario.
The robot is balancing on the left foot and is pushed on the right shoulder.
Most notably this scenario was used to demonstrate the push recovery based on the Capture Point
implemented in the IHMC/Yobotics Biped. \cite{pratt2009video}.
While the push recovery implemented is able to recover from any position,
with the current method it is not reliable in the general case.
This has multiple reason, for one the fall detection is not very reliable.
Another reason is that the speed limits of the leg joints impose a maximum velocity
for the foot movement. So not only needs the target position to be reachable, it also
needs to be reachable in a specific amount of time.
As above a football is used as source of disturbance.

\todo{frame series of push recovery}
